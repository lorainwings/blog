<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Rxjs åˆæ¢ | Lorain&#39;s ä¸ªäººä¸»é¡µğŸ–Œ</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/blog/base/hd-img.jpg">
    <link rel="manifest" href="/blog/manifest.json">
    <link rel="apple-touch-icon" href="/blog/base/hd-img.jpg">
    <meta name="description" content="å±±ä¸­æ¨—æ å¹´å¹´åœ¨ & çœ‹å°½è¥¿é£æœ¨æ§¿èŠ±">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
    <meta http-quiv="expires" cotent="0">
    
    <link rel="preload" href="/blog/assets/css/0.styles.4a9580f2.css" as="style"><link rel="preload" href="/blog/assets/js/app.f46bb55c.js" as="script"><link rel="preload" href="/blog/assets/js/3.8c44ca0e.js" as="script"><link rel="preload" href="/blog/assets/js/31.86ae47be.js" as="script"><link rel="preload" href="/blog/assets/js/4.57980df9.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.930d1339.js"><link rel="prefetch" href="/blog/assets/js/11.cdeb8098.js"><link rel="prefetch" href="/blog/assets/js/12.c8cde42b.js"><link rel="prefetch" href="/blog/assets/js/13.a227fbb7.js"><link rel="prefetch" href="/blog/assets/js/14.6af4650a.js"><link rel="prefetch" href="/blog/assets/js/15.6eaa9661.js"><link rel="prefetch" href="/blog/assets/js/16.061f9c22.js"><link rel="prefetch" href="/blog/assets/js/17.45db52d8.js"><link rel="prefetch" href="/blog/assets/js/18.5f9597d2.js"><link rel="prefetch" href="/blog/assets/js/19.b4ea0dfc.js"><link rel="prefetch" href="/blog/assets/js/20.7f19d52d.js"><link rel="prefetch" href="/blog/assets/js/21.d8589558.js"><link rel="prefetch" href="/blog/assets/js/22.f566dc38.js"><link rel="prefetch" href="/blog/assets/js/23.b69d67c8.js"><link rel="prefetch" href="/blog/assets/js/24.39640fa3.js"><link rel="prefetch" href="/blog/assets/js/25.31cd7e03.js"><link rel="prefetch" href="/blog/assets/js/26.c22cdd3d.js"><link rel="prefetch" href="/blog/assets/js/27.a7430202.js"><link rel="prefetch" href="/blog/assets/js/28.d8ebaaa5.js"><link rel="prefetch" href="/blog/assets/js/29.fa2317e9.js"><link rel="prefetch" href="/blog/assets/js/30.a72ac6ed.js"><link rel="prefetch" href="/blog/assets/js/32.bf6cece9.js"><link rel="prefetch" href="/blog/assets/js/33.27b71c6e.js"><link rel="prefetch" href="/blog/assets/js/34.3abdd4ec.js"><link rel="prefetch" href="/blog/assets/js/35.19496546.js"><link rel="prefetch" href="/blog/assets/js/36.ad3d84d8.js"><link rel="prefetch" href="/blog/assets/js/37.ec2de957.js"><link rel="prefetch" href="/blog/assets/js/38.9cd68f1f.js"><link rel="prefetch" href="/blog/assets/js/39.d83a6a78.js"><link rel="prefetch" href="/blog/assets/js/40.671b64a8.js"><link rel="prefetch" href="/blog/assets/js/41.804779b8.js"><link rel="prefetch" href="/blog/assets/js/42.ad513aa4.js"><link rel="prefetch" href="/blog/assets/js/43.8c8db1b7.js"><link rel="prefetch" href="/blog/assets/js/44.6686cfc8.js"><link rel="prefetch" href="/blog/assets/js/45.7c1c04c6.js"><link rel="prefetch" href="/blog/assets/js/46.efe7d364.js"><link rel="prefetch" href="/blog/assets/js/47.32ea0ee4.js"><link rel="prefetch" href="/blog/assets/js/48.d3964929.js"><link rel="prefetch" href="/blog/assets/js/5.4d1d4890.js"><link rel="prefetch" href="/blog/assets/js/6.5cf5829a.js"><link rel="prefetch" href="/blog/assets/js/7.46c43574.js"><link rel="prefetch" href="/blog/assets/js/8.97b71141.js"><link rel="prefetch" href="/blog/assets/js/9.5a3cc726.js"><link rel="prefetch" href="/blog/assets/js/vendors~docsearch.8f04fa7f.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.4a9580f2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Lorain's ä¸ªäººä¸»é¡µğŸ–Œ</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/skills/" class="nav-link router-link-active">
  ğŸ“œå‰ç«¯æŠ€æœ¯
</a></div><div class="nav-item"><a href="/blog/algorithm/" class="nav-link">
  ğŸ“Šè®¡ç®—æœºåŸºç¡€
</a></div><div class="nav-item"><a href="/blog/life/" class="nav-link">
  ğŸ€å…¶ä»–è®°å½•
</a></div><div class="nav-item"><a href="https://github.com/lorainwings" target="_blank" rel="noopener noreferrer" class="nav-link external">
  â­ï¸Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/skills/" class="nav-link router-link-active">
  ğŸ“œå‰ç«¯æŠ€æœ¯
</a></div><div class="nav-item"><a href="/blog/algorithm/" class="nav-link">
  ğŸ“Šè®¡ç®—æœºåŸºç¡€
</a></div><div class="nav-item"><a href="/blog/life/" class="nav-link">
  ğŸ€å…¶ä»–è®°å½•
</a></div><div class="nav-item"><a href="https://github.com/lorainwings" target="_blank" rel="noopener noreferrer" class="nav-link external">
  â­ï¸Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JSè¯­è¨€åŸºç¡€</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>H5åŠæ¡†æ¶</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/Base64.html" class="sidebar-link">Base64</a></li><li><a href="/blog/skills/å›¾ç‰‡åˆ†ç±».html" class="sidebar-link">å›¾ç‰‡åˆ†ç±»</a></li><li><a href="/blog/skills/Rxjsåˆæ¢.html" class="active sidebar-link">Rxjs åˆæ¢</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/Rxjsåˆæ¢.html#è®¤è¯†-rxjs" class="sidebar-link">è®¤è¯† RxJS</a></li><li class="sidebar-sub-header"><a href="/blog/skills/Rxjsåˆæ¢.html#å»ºç«‹-observable" class="sidebar-link">å»ºç«‹ Observable</a></li><li class="sidebar-sub-header"><a href="/blog/skills/Rxjsåˆæ¢.html#æœªå®Œå¾…ç»­" class="sidebar-link">æœªå®Œå¾…ç»­</a></li></ul></li><li><a href="/blog/skills/H5å®šä½API.html" class="sidebar-link">H5 å®šä½ API</a></li><li><a href="/blog/skills/åˆè¯†Typescript.html" class="sidebar-link">åˆè¯† Typescript</a></li><li><a href="/blog/skills/Git å¸¸ç”¨æŠ€å·§.html" class="sidebar-link">Git å¸¸ç”¨æŠ€å·§</a></li><li><a href="/blog/skills/WebWorkerå®è·µå°ç»“.html" class="sidebar-link">WebWorker å®è·µå°ç»“</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å‰ç«¯å·¥ç¨‹åŒ–</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å®‰å…¨åŠæ€§èƒ½ä¼˜åŒ–</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æœåŠ¡ç«¯å…¥é—¨</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="rxjs-åˆæ¢"><a href="#rxjs-åˆæ¢" class="header-anchor">#</a> Rxjs åˆæ¢</h1> <h2 id="è®¤è¯†-rxjs"><a href="#è®¤è¯†-rxjs" class="header-anchor">#</a> è®¤è¯† RxJS</h2> <h3 id="å¼‚æ­¥ç¼–ç¨‹å¸¸è§é—®é¢˜"><a href="#å¼‚æ­¥ç¼–ç¨‹å¸¸è§é—®é¢˜" class="header-anchor">#</a> å¼‚æ­¥ç¼–ç¨‹å¸¸è§é—®é¢˜</h3> <ul><li>Race Condition(ç«æ€æ¡ä»¶)</li> <li>Memery Leak(å†…å­˜æ³„éœ²)</li> <li>Complex State(å¤æ‚çŠ¶æ€)</li> <li>Exception Handling(å¼‚å¸¸å¤„ç†)</li> <li>å¤šç§ API æ¥å¤„ç†å¯¹åº”çš„äº‹ä»¶(å¤šç«¯ç»Ÿä¸€)</li></ul> <p>ä¾‹å­: ç›‘å¬ç‚¹å‡»äº‹ä»¶(click event)ï¼Œä½†ç‚¹å‡»ä¸€æ¬¡ä¹‹åä¸å†ç›‘å¬</p> <p>åŸç”Ÿ JS å®ç°:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç»“æŸç›‘å¬</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// æ³¨å†Œç›‘å¬</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>RxJS å®ç°:</p> <div class="language-js extra-class"><pre class="language-js"><code>Rx<span class="token punctuation">.</span>Observable<span class="token punctuation">.</span><span class="token function">fromEvent</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token string">&quot;click&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">take</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// åªå–ä¸€æ¬¡</span>
  <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="rxjs-ä»‹ç»"><a href="#rxjs-ä»‹ç»" class="header-anchor">#</a> RxJs ä»‹ç»</h3> <p>RxJS æ˜¯æŒ‡ Functional Programming(FP) åŠ Reactive Programming(RP) ä¸¤ä¸ªç¼–ç¨‹æ€æƒ³çš„ç»“åˆ, ä¹Ÿè¢«ç§°ä¸º Functional Reactive Programming(FRP)ã€‚</p> <p>FPã€RPã€FRP éƒ½æ˜¯ç¼–ç¨‹çš„ä¸€ç§æ–¹å¼,ç±»ä¼¼äº OOP</p> <ul><li>Functional Programming(å‡½æ•°å¼ç¼–ç¨‹)</li></ul> <p>æ ¸å¿ƒæ€æƒ³å°±æ˜¯åšè¿ç®—å¤„ç†,
ç”¨ function æ¥æ€è€ƒæˆ‘ä»¬çš„é—®é¢˜ï¼Œä»¥åŠæ’°å†™ç¨‹å¼</p> <ul><li>Reactive Programming(å“åº”å¼ç¼–ç¨‹)</li></ul> <p>å½“å˜æ•°æˆ–èµ„æºå‘ç”Ÿå˜åŠ¨æ—¶ï¼Œç”±å˜æ•°æˆ–èµ„æºè‡ªåŠ¨å‘Šè¯‰æˆ‘å‘ç”Ÿå˜åŠ¨äº†,
å¼€å‘è€…ä¸éœ€è¦å†™è¿™å…¶ä¸­å¦‚ä½•é€šçŸ¥å‘ç”Ÿå˜åŒ–çš„æ¯ä¸€æ­¥ä»£ç ï¼Œåªéœ€è¦
ä¸“æ³¨åœ¨å‘ç”Ÿå˜åŒ–æ—¶è¦åšä»€ä¹ˆäº‹</p> <h3 id="functional-programming-æ”¯æŒåº¦"><a href="#functional-programming-æ”¯æŒåº¦" class="header-anchor">#</a> Functional Programming æ”¯æŒåº¦</h3> <p>æ”¯æŒ FP çš„è¯­è¨€è‡³å°‘éœ€è¦ç¬¦åˆå‡½æ•°ä¸ºä¸€ç­‰å…¬æ°‘çš„ç‰¹æ€§</p> <p>ä¸€ç­‰å…¬æ°‘çš„ç‰¹å¾:</p> <ul><li>å‡½æ•°èƒ½å¤Ÿè¢«èµ‹å€¼ç»™å˜é‡</li> <li>å‡½æ•°èƒ½è¢«å½“ä½œå‚æ•°ä¼ å…¥</li> <li>å‡½æ•°èƒ½è¢«å½“ä½œè¿”å›å€¼</li></ul> <h3 id="functional-programming-é‡è¦ç‰¹æ€§"><a href="#functional-programming-é‡è¦ç‰¹æ€§" class="header-anchor">#</a> Functional Programming é‡è¦ç‰¹æ€§</h3> <ul><li>Expression, no Statement</li></ul> <p>Functional Programming éƒ½æ˜¯ è¡¨è¾¾å¼ (Expression) ä¸ä¼šæ˜¯ é™ˆè¿°å¼(Statement)ã€‚</p> <p>è¡¨è¾¾å¼: æ˜¯ä¸€ä¸ªè¿ç®—è¿‡ç¨‹ï¼Œä¸€å®šä¼šæœ‰è¿”å›å€¼ï¼Œä¾‹å¦‚æ‰§è¡Œä¸€ä¸ª function</p> <p>é™ˆè¿°å¼: è¡¨ç°æŸä¸ªè¡Œä¸ºï¼Œä¾‹å¦‚ä¸€ä¸ª èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡</p> <ul><li>Pure Function</li></ul> <p>Pure function æ˜¯æŒ‡ ä¸€ä¸ª function ç»™äºˆç›¸åŒçš„å‚æ•°ï¼Œæ°¸è¿œä¼šå›ä¼ ç›¸åŒçš„è¿”å›å€¼ï¼Œå¹¶ä¸”æ²¡æœ‰ä»»ä½•æ˜¾è‘—çš„å‰¯ä½œç”¨(Side Effect)</p> <ul><li>åˆ©ç”¨å‚æ•°ä¿å­˜çŠ¶æ€</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> predicate<span class="token punctuation">,</span> start <span class="token operator">=</span> <span class="token number">0</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">&lt;=</span> start <span class="token operator">&amp;&amp;</span> start <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">predicate</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> start<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">findIndex</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> predicate<span class="token punctuation">,</span> start <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// æ‰¾æ•°ç»„ä¸­ 'b' çš„ index</span>
<span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x <span class="token operator">===</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
è¿™é‡Œæˆ‘ä»¬å†™äº†ä¸€ä¸ª findIndex ç”¨æ¥æ‰¾æ•°ç»„ä¸­çš„å…ƒç´ ä½ç½®ï¼Œæˆ‘ä»¬åœ¨ findIndex ä¸­æ•…æ„å¤šå¡äº†ä¸€ä¸ªå‚æ•°ç”¨æ¥ä¿å­˜å½“å‰æ‰¾åˆ°ç¬¬å‡ ä¸ª index çš„çŠ¶æ€ï¼Œè¿™å°±æ˜¯åˆ©ç”¨å‚æ•°ä¿å­˜çŠ¶æ€ï¼
*/</span>
</code></pre></div><h2 id="å»ºç«‹-observable"><a href="#å»ºç«‹-observable" class="header-anchor">#</a> å»ºç«‹ Observable</h2> <h3 id="å»ºç«‹"><a href="#å»ºç«‹" class="header-anchor">#</a> å»ºç«‹</h3> <p>å»ºç«‹ observable çš„æ–¹æ³•å¾ˆå¤š, å…¶ä¸­ create æ˜¯æœ€åŸºæœ¬çš„æ–¹æ³•,reate æ–¹æ³•åœ¨ Rx.Observable äº‹ä»¶ä¸­ï¼Œè¦ä¼ å…¥ä¸€ä¸ª è®¢é˜… callback function ï¼Œè¿™ä¸ª callback function ä¼šæ¥æ”¶ä¸€ä¸ª observer å‚æ•°</p> <p>::: tips
è¿™ä¸ª callback function ä¼šå®šä¹‰ observable å°†ä¼šå¦‚ä½•å‘é€å€¼ã€‚(æš‚ä¸”ç†è§£ä¸ºå‘å€¼å‡½æ•°)
:::</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> observable <span class="token operator">=</span> Rx<span class="token punctuation">.</span>Observable<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">observer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  observer<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&quot;Jerry&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// RxJS 4.x ä»¥å‰çš„ç‰ˆæœ¬ç”¨ onNext</span>
  observer<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&quot;Anna&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è™½ç„¶ Observable å¯ä»¥è¢« createï¼Œä½†å®é™…ä¸Šæˆ‘ä»¬é€šå¸¸éƒ½ä½¿ç”¨ creation operator åƒæ˜¯ from, of, fromEvent, fromPromise ç­‰ã€‚è¿™é‡Œåªæ˜¯ä¸ºäº†ä»åŸºæœ¬çš„å¼€å§‹è®²è§£æ‰€ä»¥æ‰ç”¨ create</p> <p>::: tips
è®¢é˜… Observable åƒæ˜¯è°ƒç”¨å‡½æ•°, å¹¶æä¾›æ¥æ”¶æ•°æ®çš„å›è°ƒå‡½æ•°ã€‚
å®ƒæ˜¯æƒ°æ€§è¿ç®—,
æˆ‘ä»¬å¯ä»¥è®¢é˜…è¿™ä¸ª observableï¼Œæ¥æ¥æ”¶ä»–å‘é€çš„å€¼ï¼Œä»£ç å¦‚ä¸‹
:::</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> observable <span class="token operator">=</span> Rx<span class="token punctuation">.</span>Observable<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">observer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  observer<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&quot;Jerry&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// RxJS 4.x ä»¥å‰çš„ç‰ˆæœ¬ç”¨ onNext</span>
  observer<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&quot;Anna&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è®¢é˜…è¿™ä¸ª observable</span>
observable<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="åˆ›å»ºè¿ç®—ç¬¦"><a href="#åˆ›å»ºè¿ç®—ç¬¦" class="header-anchor">#</a> åˆ›å»ºè¿ç®—ç¬¦</h3> <p>Observable æœ‰è®¸å¤šåˆ›å»ºå®ä¾‹çš„æ–¹æ³•ï¼Œç§°ä¸º creation operatorã€‚ä¸‹é¢æˆ‘ä»¬åˆ—å‡º RxJS å¸¸ç”¨çš„ creation operator</p> <ul><li>create</li> <li>of</li></ul> <p>å½“æˆ‘ä»¬æƒ³è¦åŒæ­¥çš„ä¼ é€’å‡ ä¸ªå€¼æ—¶ï¼Œå°±å¯ä»¥ç”¨ of è¿™ä¸ª operator æ¥ç®€æ´çš„è¡¨è¾¾!</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> source$ <span class="token operator">=</span> Rx<span class="token punctuation">.</span>Observable<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;Anna&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Jerry&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
source$<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;complete&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">error</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>from</li> <li>fromEvent</li> <li>fromPromise</li> <li>never</li> <li>empty</li> <li>throw</li> <li>interval</li> <li>timer</li></ul> <h2 id="æœªå®Œå¾…ç»­"><a href="#æœªå®Œå¾…ç»­" class="header-anchor">#</a> æœªå®Œå¾…ç»­</h2></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">æ›´æ–°æ—¶é—´:</span> <span class="time">3/17/2021, 11:14:09 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/blog/skills/å›¾ç‰‡åˆ†ç±».html" class="prev">
        å›¾ç‰‡åˆ†ç±»
      </a></span> <span class="next"><a href="/blog/skills/H5å®šä½API.html">
        H5 å®šä½ API
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/blog/assets/js/app.f46bb55c.js" defer></script><script src="/blog/assets/js/3.8c44ca0e.js" defer></script><script src="/blog/assets/js/31.86ae47be.js" defer></script><script src="/blog/assets/js/4.57980df9.js" defer></script>
  </body>
</html>
