<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>正则表达式小知识 | Lorain&#39;s 个人主页🖌</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/blog/base/hd-img.jpg">
    <link rel="manifest" href="/blog/manifest.json">
    <link rel="apple-touch-icon" href="/blog/base/hd-img.jpg">
    <meta name="description" content="山中樗栎年年在 & 看尽西风木槿花">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
    <meta http-quiv="expires" cotent="0">
    
    <link rel="preload" href="/blog/assets/css/0.styles.4a9580f2.css" as="style"><link rel="preload" href="/blog/assets/js/app.a61eb98d.js" as="script"><link rel="preload" href="/blog/assets/js/3.8c44ca0e.js" as="script"><link rel="preload" href="/blog/assets/js/39.baa043ba.js" as="script"><link rel="preload" href="/blog/assets/js/4.57980df9.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.96eb2894.js"><link rel="prefetch" href="/blog/assets/js/11.c906c226.js"><link rel="prefetch" href="/blog/assets/js/12.d708ee73.js"><link rel="prefetch" href="/blog/assets/js/13.54441bd2.js"><link rel="prefetch" href="/blog/assets/js/14.a8c11b9e.js"><link rel="prefetch" href="/blog/assets/js/15.2898e42a.js"><link rel="prefetch" href="/blog/assets/js/16.42b38797.js"><link rel="prefetch" href="/blog/assets/js/17.b3e61337.js"><link rel="prefetch" href="/blog/assets/js/18.370687c1.js"><link rel="prefetch" href="/blog/assets/js/19.8d8c628d.js"><link rel="prefetch" href="/blog/assets/js/20.42f17c2c.js"><link rel="prefetch" href="/blog/assets/js/21.bd9385ec.js"><link rel="prefetch" href="/blog/assets/js/22.65b849c9.js"><link rel="prefetch" href="/blog/assets/js/23.6cb81cbf.js"><link rel="prefetch" href="/blog/assets/js/24.269b5d98.js"><link rel="prefetch" href="/blog/assets/js/25.8c84e522.js"><link rel="prefetch" href="/blog/assets/js/26.2ff485a5.js"><link rel="prefetch" href="/blog/assets/js/27.53f085d6.js"><link rel="prefetch" href="/blog/assets/js/28.96d28141.js"><link rel="prefetch" href="/blog/assets/js/29.3bac3e84.js"><link rel="prefetch" href="/blog/assets/js/30.ef2b82fd.js"><link rel="prefetch" href="/blog/assets/js/31.2592aff7.js"><link rel="prefetch" href="/blog/assets/js/32.42dad573.js"><link rel="prefetch" href="/blog/assets/js/33.7b1a24ff.js"><link rel="prefetch" href="/blog/assets/js/34.74abf37c.js"><link rel="prefetch" href="/blog/assets/js/35.43c600f9.js"><link rel="prefetch" href="/blog/assets/js/36.a8f38f48.js"><link rel="prefetch" href="/blog/assets/js/37.392007fc.js"><link rel="prefetch" href="/blog/assets/js/38.58c33a33.js"><link rel="prefetch" href="/blog/assets/js/40.b2cf738e.js"><link rel="prefetch" href="/blog/assets/js/41.3d966b2d.js"><link rel="prefetch" href="/blog/assets/js/42.05a99712.js"><link rel="prefetch" href="/blog/assets/js/43.9a1fdc6b.js"><link rel="prefetch" href="/blog/assets/js/5.4a149a83.js"><link rel="prefetch" href="/blog/assets/js/6.5cf5829a.js"><link rel="prefetch" href="/blog/assets/js/7.46c43574.js"><link rel="prefetch" href="/blog/assets/js/8.97b71141.js"><link rel="prefetch" href="/blog/assets/js/9.5a3cc726.js"><link rel="prefetch" href="/blog/assets/js/vendors~docsearch.8f04fa7f.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.4a9580f2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Lorain's 个人主页🖌</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/skills/" class="nav-link router-link-active">
  📜技术进阶
</a></div><div class="nav-item"><a href="/blog/algorithm/" class="nav-link">
  📊算法相关
</a></div><div class="nav-item"><a href="/blog/life/" class="nav-link">
  🍀记录生活
</a></div><div class="nav-item"><a href="https://github.com/lorainwings" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ⭐️Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/skills/" class="nav-link router-link-active">
  📜技术进阶
</a></div><div class="nav-item"><a href="/blog/algorithm/" class="nav-link">
  📊算法相关
</a></div><div class="nav-item"><a href="/blog/life/" class="nav-link">
  🍀记录生活
</a></div><div class="nav-item"><a href="https://github.com/lorainwings" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ⭐️Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Client &amp; Side</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/Base64.html" class="sidebar-link">Base64</a></li><li><a href="/blog/skills/Promise.html" class="sidebar-link">Promise</a></li><li><a href="/blog/skills/图片分类.html" class="sidebar-link">图片分类</a></li><li><a href="/blog/skills/Rxjs初探.html" class="sidebar-link">Rxjs 初探</a></li><li><a href="/blog/skills/Generator.html" class="sidebar-link">Generator</a></li><li><a href="/blog/skills/Set &amp; Map.html" class="sidebar-link">Set &amp; Map</a></li><li><a href="/blog/skills/Babel杂谈.html" class="sidebar-link">Babel 杂谈</a></li><li><a href="/blog/skills/H5定位API.html" class="sidebar-link">H5 定位 API</a></li><li><a href="/blog/skills/Event-loop.html" class="sidebar-link">Event Loop</a></li><li><a href="/blog/skills/服务器推送.html" class="sidebar-link">服务器推送</a></li><li><a href="/blog/skills/浏览器缓存.html" class="sidebar-link">浏览器缓存</a></li><li><a href="/blog/skills/前端安全防范.html" class="sidebar-link">前端安全防范</a></li><li><a href="/blog/skills/初识Typescript.html" class="sidebar-link">初识 Typescript</a></li><li><a href="/blog/skills/Git 常用技巧.html" class="sidebar-link">Git 常用技巧</a></li><li><a href="/blog/skills/Web性能优化.html" class="sidebar-link">Web 性能优化</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Build &amp; Tools</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Design &amp; Patterns</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Server &amp; Side</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="正则表达式小知识"><a href="#正则表达式小知识" class="header-anchor">#</a> 正则表达式小知识</h1> <p>经常使用正则表达式, 但是有些细节知识总是没搞清楚, 在看了《JS 正则表达式》后一些知识点豁然开朗, 此处只做记录, 不做展开;</p> <h2 id="如果要匹配任意字符怎么办"><a href="#如果要匹配任意字符怎么办" class="header-anchor">#</a> 如果要匹配任意字符怎么办</h2> <p>可以使用 <code>[\d\D]</code>、<code>[\w\W]</code>、<code>[\s\S]</code> 和 <code>[^]</code> 中任何的一个。</p> <h2 id="贪婪匹配与惰性匹配表示法"><a href="#贪婪匹配与惰性匹配表示法" class="header-anchor">#</a> 贪婪匹配与惰性匹配表示法</h2> <p>通过在量词后面加个问号就能实现惰性匹配</p> <table><thead><tr><th> 惰性量词</th> <th>贪婪量词</th></tr></thead> <tbody><tr><td>{m,n}?</td> <td>{m,n}</td></tr> <tr><td>{m,}?</td> <td>{m,}</td></tr> <tr><td>??</td> <td>?</td></tr> <tr><td>+?</td> <td>+</td></tr> <tr><td>*?</td> <td>*</td></tr></tbody></table> <h2 id="位置匹配"><a href="#位置匹配" class="header-anchor">#</a> 位置匹配</h2> <p>ES6 正则的位置表示方式总共有: <code>^</code>、 <code>$</code>、<code>\b</code>、<code>\B</code>、<code>(?=)</code>、<code>(?!)</code>、<code>(?&lt;=)</code>、<code>(?&lt;!)</code></p> <p>其中<code>\b</code>和<code>\B</code>表示什么位置?</p> <div class="custom-block tip"><p class="custom-block-title">\b 与\B 用法:</p> <p>\b 是单词边界，具体就是 \w 与 \W 之间的位置，也包括 \w 与 ^ 之间的位置，和 \w 与 $ 之间的位置。</p> <p>\B 是 \b 的反面的意思，非单词边界。例如在字符串中所有位置中，扣掉 \b，剩下的都是 \B 的。</p></div> <h2 id="括号匹配"><a href="#括号匹配" class="header-anchor">#</a> 括号匹配</h2> <p>分组后面有量词的话，分组最终捕获到的数据是最后一次的匹配; 反向引用也是一样的;</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\d)+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;12345&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; [&quot;12345&quot;, &quot;5&quot;, index: 0, input: &quot;12345&quot;]</span>
</code></pre></div><h2 id="匹配回溯"><a href="#匹配回溯" class="header-anchor">#</a> 匹配回溯</h2> <p>一般语言中(包括 JS)使用的正则引擎是 NFA(非确定型有限自动机),导致匹配回溯的类型主要是三种:</p> <ul><li><p>贪婪量词</p> <p>少用贪婪量词(<code>. + ? *</code>)等</p></li> <li><p>惰性量词</p> <p>虽然惰性量词不贪，但也会有回溯的现象。比如正则是 <code>\d{1,3}?\d{1,3}</code></p></li> <li><p>分支结构</p> <p>分支结构，可能前面的子模式会形成了局部匹配，如果接下来表达式整体不匹配时，仍会继续尝试剩下的分
支。</p></li></ul> <h2 id="操作符优先性"><a href="#操作符优先性" class="header-anchor">#</a> 操作符优先性</h2> <table><thead><tr><th>操作符描述</th> <th>操作符</th> <th>优先级</th></tr></thead> <tbody><tr><td>转义符</td> <td>\</td> <td>1</td></tr> <tr><td>括号和方括号</td> <td>(...)、(?:...)、(?=...)、(?!...)、[...]</td> <td>2</td></tr> <tr><td>量词限定符</td> <td>{m}、{m,n}、{m,}、?、*、+</td> <td>3</td></tr> <tr><td>位置和序列</td> <td>^、$、\元字符、一般字符</td> <td>4</td></tr> <tr><td>管道符(竖杠)</td> <td>|</td> <td>5</td></tr></tbody></table> <h2 id="正则表达式的构建"><a href="#正则表达式的构建" class="header-anchor">#</a> 正则表达式的构建</h2> <ul><li><p>平衡法则</p></li> <li><p>构建正则前提</p></li></ul> <h2 id="表达式编程"><a href="#表达式编程" class="header-anchor">#</a> 表达式编程</h2> <p>... 未完待续</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">12/18/2020, 7:09:14 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/blog/assets/js/app.a61eb98d.js" defer></script><script src="/blog/assets/js/3.8c44ca0e.js" defer></script><script src="/blog/assets/js/39.baa043ba.js" defer></script><script src="/blog/assets/js/4.57980df9.js" defer></script>
  </body>
</html>
