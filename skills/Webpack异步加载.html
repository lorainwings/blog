<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Webpack х╝ВцнехКаш╜╜ | Lorain&#39;s ф╕кф║║ф╕╗щб╡ЁЯЦМ</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/blog/base/hd-img.jpg">
    <link rel="manifest" href="/blog/manifest.json">
    <link rel="apple-touch-icon" href="/blog/base/hd-img.jpg">
    <meta name="description" content="х▒▒ф╕нциЧцаОх╣┤х╣┤хЬи & чЬЛх░╜ше┐щгОцЬицз┐шК▒">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
    <meta http-quiv="expires" cotent="0">
    
    <link rel="preload" href="/blog/assets/css/0.styles.4a9580f2.css" as="style"><link rel="preload" href="/blog/assets/js/app.b9d1aa2a.js" as="script"><link rel="preload" href="/blog/assets/js/3.8c44ca0e.js" as="script"><link rel="preload" href="/blog/assets/js/33.6665e618.js" as="script"><link rel="preload" href="/blog/assets/js/4.57980df9.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.930d1339.js"><link rel="prefetch" href="/blog/assets/js/11.cdeb8098.js"><link rel="prefetch" href="/blog/assets/js/12.c8cde42b.js"><link rel="prefetch" href="/blog/assets/js/13.a227fbb7.js"><link rel="prefetch" href="/blog/assets/js/14.6af4650a.js"><link rel="prefetch" href="/blog/assets/js/15.6eaa9661.js"><link rel="prefetch" href="/blog/assets/js/16.061f9c22.js"><link rel="prefetch" href="/blog/assets/js/17.45db52d8.js"><link rel="prefetch" href="/blog/assets/js/18.f048e80a.js"><link rel="prefetch" href="/blog/assets/js/19.cb4e044a.js"><link rel="prefetch" href="/blog/assets/js/20.7f19d52d.js"><link rel="prefetch" href="/blog/assets/js/21.d8589558.js"><link rel="prefetch" href="/blog/assets/js/22.f566dc38.js"><link rel="prefetch" href="/blog/assets/js/23.b69d67c8.js"><link rel="prefetch" href="/blog/assets/js/24.39640fa3.js"><link rel="prefetch" href="/blog/assets/js/25.31cd7e03.js"><link rel="prefetch" href="/blog/assets/js/26.33e13135.js"><link rel="prefetch" href="/blog/assets/js/27.23cfcf44.js"><link rel="prefetch" href="/blog/assets/js/28.67f3e5f1.js"><link rel="prefetch" href="/blog/assets/js/29.25710728.js"><link rel="prefetch" href="/blog/assets/js/30.b6c183c8.js"><link rel="prefetch" href="/blog/assets/js/31.92ae948f.js"><link rel="prefetch" href="/blog/assets/js/32.0644f365.js"><link rel="prefetch" href="/blog/assets/js/34.4dc117ac.js"><link rel="prefetch" href="/blog/assets/js/35.e24a02ac.js"><link rel="prefetch" href="/blog/assets/js/36.74def00a.js"><link rel="prefetch" href="/blog/assets/js/37.3f39d15e.js"><link rel="prefetch" href="/blog/assets/js/38.78379f7b.js"><link rel="prefetch" href="/blog/assets/js/39.e12c28f2.js"><link rel="prefetch" href="/blog/assets/js/40.eced14bc.js"><link rel="prefetch" href="/blog/assets/js/41.f104551f.js"><link rel="prefetch" href="/blog/assets/js/42.21ec0d93.js"><link rel="prefetch" href="/blog/assets/js/43.984dadf1.js"><link rel="prefetch" href="/blog/assets/js/44.a870dc42.js"><link rel="prefetch" href="/blog/assets/js/45.7b845df4.js"><link rel="prefetch" href="/blog/assets/js/46.31a736c8.js"><link rel="prefetch" href="/blog/assets/js/5.2b577ff2.js"><link rel="prefetch" href="/blog/assets/js/6.5cf5829a.js"><link rel="prefetch" href="/blog/assets/js/7.46c43574.js"><link rel="prefetch" href="/blog/assets/js/8.97b71141.js"><link rel="prefetch" href="/blog/assets/js/9.5a3cc726.js"><link rel="prefetch" href="/blog/assets/js/vendors~docsearch.8f04fa7f.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.4a9580f2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Lorain's ф╕кф║║ф╕╗щб╡ЁЯЦМ</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/skills/" class="nav-link router-link-active">
  ЁЯУЬхЙНчлпцКАцЬп
</a></div><div class="nav-item"><a href="/blog/algorithm/" class="nav-link">
  ЁЯУКшобчоЧцЬ║хЯ║чбА
</a></div><div class="nav-item"><a href="/blog/life/" class="nav-link">
  ЁЯНАхЕ╢ф╗Цшо░х╜Х
</a></div><div class="nav-item"><a href="https://github.com/lorainwings" target="_blank" rel="noopener noreferrer" class="nav-link external">
  тнРя╕ПGithub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/skills/" class="nav-link router-link-active">
  ЁЯУЬхЙНчлпцКАцЬп
</a></div><div class="nav-item"><a href="/blog/algorithm/" class="nav-link">
  ЁЯУКшобчоЧцЬ║хЯ║чбА
</a></div><div class="nav-item"><a href="/blog/life/" class="nav-link">
  ЁЯНАхЕ╢ф╗Цшо░х╜Х
</a></div><div class="nav-item"><a href="https://github.com/lorainwings" target="_blank" rel="noopener noreferrer" class="nav-link external">
  тнРя╕ПGithub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JSшпншиАхЯ║чбА</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>H5хПКцбЖцЮ╢</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>хЙНчлпх╖ечиЛхМЦ</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/BabelцЭВш░И.html" class="sidebar-link">Babel цЭВш░И</a></li><li><a href="/blog/skills/чоАцШУцЙУхМЕх╖ехЕ╖хоЮчО░.html" class="sidebar-link">чоАцШУцЙУхМЕх╖ехЕ╖хоЮчО░</a></li><li><a href="/blog/skills/WebpackхЯ║чбАчЯешпЖ.html" class="sidebar-link">Webpack хЯ║чбАчЯешпЖ</a></li><li><a href="/blog/skills/WebpackцибхЭЧхоЮчО░.html" class="sidebar-link">Webpack цибхЭЧхоЮчО░</a></li><li><a href="/blog/skills/Webpackх╝ВцнехКаш╜╜.html" class="active sidebar-link">Webpack х╝ВцнехКаш╜╜</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/Webpackх╝ВцнехКаш╜╜.html#цибхЭЧшзДшМГ" class="sidebar-link">цибхЭЧшзДшМГ</a></li><li class="sidebar-sub-header"><a href="/blog/skills/Webpackх╝ВцнехКаш╜╜.html#цибхЭЧцЙУхМЕ" class="sidebar-link">цибхЭЧцЙУхМЕ</a></li><li class="sidebar-sub-header"><a href="/blog/skills/Webpackх╝ВцнехКаш╜╜.html#es6-шпнц│ХцФпцМБ" class="sidebar-link">ES6 шпнц│ХцФпцМБ</a></li><li class="sidebar-sub-header"><a href="/blog/skills/Webpackх╝ВцнехКаш╜╜.html#цибхЭЧх╝ВцнехКаш╜╜" class="sidebar-link">цибхЭЧх╝ВцнехКаш╜╜</a></li><li class="sidebar-sub-header"><a href="/blog/skills/Webpackх╝ВцнехКаш╜╜.html#цА╗ч╗У" class="sidebar-link">цА╗ч╗У</a></li><li class="sidebar-sub-header"><a href="/blog/skills/Webpackх╝ВцнехКаш╜╜.html#хПВшАГцЦЗчла" class="sidebar-link">хПВшАГцЦЗчла</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>хоЙхЕихПКцАзшГ╜ф╝ШхМЦ</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>цЬНхКбчлпхЕещЧи</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webpack-х╝ВцнехКаш╜╜"><a href="#webpack-х╝ВцнехКаш╜╜" class="header-anchor">#</a> Webpack х╝ВцнехКаш╜╜</h1> <blockquote><p>цЦЗчла<a href="https://juejin.im/post/5c94a2f36fb9a070fc623df4" target="_blank" rel="noopener noreferrer">ш╜мшЗкч╜Сч╗Ь<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>хЬиф╜┐чФи webpack чЪДш┐ЗчиЛф╕ня╝Мф╜ацШпхРжхе╜хеЗ webpack цЙУхМЕчЪДф╗гчаБф╕║ф╗Аф╣ИхПпф╗ечЫ┤цОехЬиц╡ПшзИхЩиф╕нш╖Ся╝Яф╕║ф╗Аф╣И webpack хПпф╗ецФпцМБхРДчзН ES6 цЬАцЦ░шпнц│Хя╝Яф╕║ф╗Аф╣ИхЬи webpack ф╕нхПпф╗еф╣жхЖЩ import ES6 цибхЭЧя╝Мф╣ЯцФпцМБ require CommonJS цибхЭЧя╝Я</p> <h2 id="цибхЭЧшзДшМГ"><a href="#цибхЭЧшзДшМГ" class="header-anchor">#</a> цибхЭЧшзДшМГ</h2> <p>хЕ│ф║ОцибхЭЧя╝МцИСф╗мхЕИцЭешодшпЖф╕ЛчЫохЙНф╕╗ц╡БчЪДцибхЭЧшзДшМГя╝ИшЗкф╗ОцЬЙф║Ж ES6 Module хПК Webpack чнЙх╖ехЕ╖я╝МAMD/CMD шзДшМГчФЯхнШчй║щЧ┤х╖▓ч╗Пх╛Их░Пф║Жя╝Йя╝Ъ</p> <ul><li>CommonJS</li> <li>UMD</li> <li>ES6 Module</li></ul> <h3 id="commonjs"><a href="#commonjs" class="header-anchor">#</a> CommonJS</h3> <p>ES6 хЙНя╝Мjs ц▓бцЬЙх▒Юф║ОшЗкх╖▒чЪДцибхЭЧшзДшМГя╝МцЙАф╗ечд╛хМ║хИ╢хоЪф║Ж CommonJS шзДшМГуАВшАМ NodeJS цЙАф╜┐чФичЪДцибхЭЧч│╗ч╗Ях░▒цШпхЯ║ф║О CommonJS шзДшМГхоЮчО░чЪДуАВ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// CommonJS хп╝хЗ║</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> a<span class="token operator">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token function-variable function">foo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// CommonJS хп╝хЕе</span>
<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./foo.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
хдНхИ╢ф╗гчаБ<span class="token punctuation">;</span>
</code></pre></div><h3 id="umd"><a href="#umd" class="header-anchor">#</a> UMD</h3> <p>ца╣цНох╜УхЙНш┐РшбМчОпхвГчЪДхИдцЦня╝МхжВцЮЬцШп Node чОпхвГ х░▒цШпф╜┐чФи CommonJS шзДшМГя╝М хжВцЮЬф╕НцШпх░▒хИдцЦнцШпхРжф╕║ AMD чОпхвГя╝М цЬАхРОхп╝хЗ║хЕих▒АхПШщЗПуАВш┐Щца╖ф╗гчаБхПпф╗ехРМцЧ╢ш┐РшбМхЬи Node хТМц╡ПшзИхЩичОпхвГф╕нуАВчЫохЙНхдзщГихИЖх║УщГ╜цШпцЙУхМЕцИР UMD шзДшМГя╝МWebpack ф╣ЯцФпцМБ UMD цЙУхМЕя╝МщЕНч╜о API цШп<a href="https://webpack.docschina.org/configuration/output/#output-librarytarget" target="_blank" rel="noopener noreferrer">output.libraryTarget<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>уАВшпжч╗ЖцбИф╛ЛхПпф╗ечЬЛчмФшАЕх░БшгЕчЪД npm х╖ехЕ╖хМЕя╝Ъ<a href="https://github.com/lq782655835/cache-manage-js" target="_blank" rel="noopener noreferrer">cache-manage-js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">global<span class="token punctuation">,</span> factory</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> module <span class="token operator">!==</span> <span class="token string">'undefined'</span>
    <span class="token operator">?</span> <span class="token punctuation">(</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token keyword">typeof</span> define <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">&amp;&amp;</span> define<span class="token punctuation">.</span>amd
    <span class="token operator">?</span> <span class="token function">define</span><span class="token punctuation">(</span>factory<span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token punctuation">(</span>global<span class="token punctuation">.</span>libName <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">'use strict'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
хдНхИ╢ф╗гчаБ<span class="token punctuation">;</span>
</code></pre></div><h3 id="es6-module"><a href="#es6-module" class="header-anchor">#</a> ES6 Module</h3> <p>ES6 цибхЭЧчЪДшо╛шобцАЭцГ│цШпх░╜щЗПчЪДщЭЩцАБхМЦя╝Мф╜┐х╛Чч╝ЦшпСцЧ╢х░▒шГ╜чбохоЪцибхЭЧчЪДф╛Эш╡ЦхЕ│ч│╗я╝Мф╗ехПКш╛УхЕехТМш╛УхЗ║чЪДхПШщЗПуАВхЕ╖ф╜УцАЭцГ│хТМшпнц│ХхПпф╗ечЬЛчмФшАЕчЪДхПжхдЦф╕АчпЗцЦЗчлая╝Ъ<a href="https://juejin.im/post/(https://lq782655835.github.io/blogs/es6/es6-4.module.html)" target="_blank" rel="noopener noreferrer">ES6-цибхЭЧшпжшзг<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// es6цибхЭЧ хп╝хЗ║</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> a<span class="token operator">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token function-variable function">foo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// es6цибхЭЧ хп╝хЕе</span>
<span class="token keyword">import</span> foo <span class="token keyword">from</span> <span class="token string">'./foo'</span><span class="token punctuation">;</span>
хдНхИ╢ф╗гчаБ<span class="token punctuation">;</span>
</code></pre></div><h2 id="цибхЭЧцЙУхМЕ"><a href="#цибхЭЧцЙУхМЕ" class="header-anchor">#</a> цибхЭЧцЙУхМЕ</h2> <p>цЧвчД╢цибхЭЧшзДшМГцЬЙш┐Щф╣ИхдЪя╝МщВг webpack цШпхжВф╜ХхО╗шзгцЮРф╕НхРМчЪДцибхЭЧхСвя╝Я</p> <p>webpack ца╣цНо webpack.config.js ф╕нчЪДхЕехПгцЦЗф╗╢я╝МхЬихЕехПгцЦЗф╗╢щЗМшпЖхИлцибхЭЧф╛Эш╡Ця╝Мф╕Нчобш┐ЩщЗМчЪДцибхЭЧф╛Эш╡ЦцШпчФи CommonJS хЖЩчЪДя╝Мш┐ШцШп ES6 Module шзДшМГхЖЩчЪДя╝Мwebpack ф╝ЪшЗкхКиш┐ЫшбМхИЖцЮРя╝Мх╣╢щАЪш┐Зш╜мцНвуАБч╝ЦшпСф╗гчаБя╝МцЙУхМЕцИРцЬАч╗ИчЪДцЦЗф╗╢уАВ<code>цЬАч╗ИцЦЗф╗╢ф╕нчЪДцибхЭЧхоЮчО░цШпхЯ║ф║ОwebpackшЗкх╖▒хоЮчО░чЪДwebpack_requireя╝Иes5ф╗гчаБя╝Й</code>я╝МцЙАф╗ецЙУхМЕхРОчЪДцЦЗф╗╢хПпф╗еш╖СхЬиц╡ПшзИхЩиф╕КуАВ</p> <p>хРМцЧ╢ф╗еф╕КцДПхС│чЭАхЬи webapck чОпхвГф╕Ля╝Мф╜ахПпф╗ехПкф╜┐чФи ES6 цибхЭЧшпнц│Хф╣жхЖЩф╗гчаБя╝ИщАЪх╕╕цИСф╗мщГ╜цШпш┐Щф╣ИхБЪчЪДя╝Йя╝Мф╣ЯхПпф╗еф╜┐чФи CommonJS цибхЭЧшпнц│Хя╝МчФЪшЗ│хПпф╗еф╕дшАЕц╖╖хРИф╜┐чФиуАВхЫаф╕║ф╗О webpack2 х╝АхзЛя╝МхЖЕч╜оф║Жхп╣ ES6уАБCommonJSуАБAMD цибхЭЧхМЦшпнхПечЪДцФпцМБя╝М<code>webpackф╝Ъхп╣хРДчзНцибхЭЧш┐ЫшбМшпнц│ХхИЖцЮРя╝Мх╣╢хБЪш╜мцНвч╝ЦшпС</code>уАВ</p> <p>цИСф╗мф╕╛ф╕кф╛ЛхнРцЭехИЖцЮРф╕ЛцЙУхМЕхРОчЪДц║РчаБцЦЗф╗╢я╝Мф╛ЛхнРц║Рф╗гчаБхЬи <a href="https://github.com/lq782655835/webpack-module-example" target="_blank" rel="noopener noreferrer">webpack-module-example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token operator">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span>
  <span class="token comment">// JavaScript цЙзшбМхЕехПгцЦЗф╗╢</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/main.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// цККцЙАцЬЙф╛Эш╡ЦчЪДцибхЭЧхРИх╣╢ш╛УхЗ║хИ░ф╕Аф╕к bundle.js цЦЗф╗╢</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
    <span class="token comment">// ш╛УхЗ║цЦЗф╗╢щГ╜цФ╛хИ░ dist чЫох╜Хф╕Л</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./dist'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
хдНхИ╢ф╗гчаБ<span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// src/add</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'hello world,'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// ш┐ЩщЗМчЙ╣цДПф╜┐чФиф║ЖES6шпнц│Х</span>
  <span class="token keyword">return</span> name <span class="token operator">+</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// src/main.js</span>
<span class="token keyword">import</span> Add <span class="token keyword">from</span> <span class="token string">'./add'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Add<span class="token punctuation">,</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
хдНхИ╢ф╗гчаБ<span class="token punctuation">;</span>
</code></pre></div><p>цЙУхМЕхРОч▓╛чоАчЪД bundle.js цЦЗф╗╢хжВф╕Л:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// modulesцШпхнШцФ╛цЙАцЬЙцибхЭЧчЪДцХ░ч╗Дя╝МцХ░ч╗Дф╕нцпПф╕кхЕГч┤ахнШхВи{ цибхЭЧш╖пх╛Д: цибхЭЧхп╝хЗ║ф╗гчаБхЗ╜цХ░ }</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">modules</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// цибхЭЧч╝УхнШф╜ЬчФия╝Мх╖▓хКаш╜╜чЪДцибхЭЧхПпф╗еф╕НчФихЖНщЗНцЦ░шп╗хПЦя╝МцПРхНЗцАзшГ╜</span>
  <span class="token keyword">var</span> installedModules <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// хЕ│щФохЗ╜цХ░я╝МхКаш╜╜цибхЭЧф╗гчаБ</span>
  <span class="token comment">// х╜вх╝ПцЬЙчВ╣хГПNodeчЪДCommonJSцибхЭЧя╝Мф╜Жш┐ЩщЗМцШпхПпш╖СхЬиц╡ПшзИхЩиф╕КчЪДes5ф╗гчаБ</span>
  <span class="token keyword">function</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token parameter">moduleId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ч╝УхнШцгАцЯея╝МцЬЙхИЩчЫ┤цОеф╗Оч╝УхнШф╕нхПЦх╛Ч</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>installedModules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> installedModules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// хЕИхИЫх╗║ф╕Аф╕кчй║цибхЭЧя╝МхбЮхЕеч╝УхнШф╕н</span>
    <span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token punctuation">(</span>installedModules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      i<span class="token operator">:</span> moduleId<span class="token punctuation">,</span>
      l<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// цаЗшо░цШпхРжх╖▓ч╗ПхКаш╜╜</span>
      exports<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// хИЭхзЛцибхЭЧф╕║чй║</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// цККшжБхКаш╜╜чЪДцибхЭЧхЖЕхо╣я╝МцМВш╜╜хИ░module.exportsф╕К</span>
    modules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>
      module<span class="token punctuation">.</span>exports<span class="token punctuation">,</span>
      module<span class="token punctuation">,</span>
      module<span class="token punctuation">.</span>exports<span class="token punctuation">,</span>
      __webpack_require__
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    module<span class="token punctuation">.</span>l <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// цаЗшо░ф╕║х╖▓хКаш╜╜</span>

    <span class="token comment">// ш┐ФхЫЮхКаш╜╜чЪДцибхЭЧя╝Мш░ГчФицЦ╣чЫ┤цОеш░ГчФихН│хПп</span>
    <span class="token keyword">return</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// __webpack_require__хп╣ш▒бф╕ЛчЪДrхЗ╜цХ░</span>
  <span class="token comment">// хЬиmodule.exportsф╕КхоЪф╣Й__esModuleф╕║trueя╝МшбицШОцШпф╕Аф╕кцибхЭЧхп╣ш▒б</span>
  __webpack_require__<span class="token punctuation">.</span><span class="token function-variable function">r</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">exports</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>exports<span class="token punctuation">,</span> <span class="token string">'__esModule'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// хРпхКихЕехПгцибхЭЧmain.js</span>
  <span class="token keyword">return</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token punctuation">(</span>__webpack_require__<span class="token punctuation">.</span>s <span class="token operator">=</span> <span class="token string">'./src/main.js'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// addцибхЭЧ</span>
  <span class="token string">'./src/add.js'</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> __webpack_exports__<span class="token punctuation">,</span> __webpack_require__</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// хЬиmodule.exportsф╕КхоЪф╣Й__esModuleф╕║true</span>
    __webpack_require__<span class="token punctuation">.</span><span class="token function">r</span><span class="token punctuation">(</span>__webpack_exports__<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// чЫ┤цОецККaddцибхЭЧхЖЕхо╣я╝Мш╡Лч╗Щmodule.exports.defaultхп╣ш▒бф╕К</span>
    __webpack_exports__<span class="token punctuation">[</span><span class="token string">'default'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'hello world,'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> name <span class="token operator">+</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// хЕехПгцибхЭЧ</span>
  <span class="token string">'./src/main.js'</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> __webpack_exports__<span class="token punctuation">,</span> __webpack_require__</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    __webpack_require__<span class="token punctuation">.</span><span class="token function">r</span><span class="token punctuation">(</span>__webpack_exports__<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// цЛ┐хИ░addцибхЭЧчЪДхоЪф╣Й</span>
    <span class="token comment">// _add__WEBPACK_IMPORTED_MODULE_0__ = module.exportsя╝МцЬЙчВ╣ч▒╗ф╝╝require</span>
    <span class="token keyword">var</span> _add__WEBPACK_IMPORTED_MODULE_0__ <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token string">'./src/add.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// addцибхЭЧхЖЕхо╣: _add__WEBPACK_IMPORTED_MODULE_0__[&quot;default&quot;]</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
      _add__WEBPACK_IMPORTED_MODULE_0__<span class="token punctuation">[</span><span class="token string">'default'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token function">Object</span><span class="token punctuation">(</span>_add__WEBPACK_IMPORTED_MODULE_0__<span class="token punctuation">[</span><span class="token string">'default'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
хдНхИ╢ф╗гчаБ<span class="token punctuation">;</span>
</code></pre></div><p>ф╗еф╕Кца╕х┐Гф╗гчаБф╕ня╝МшГ╜шойцЙУхМЕхРОчЪДф╗гчаБчЫ┤цОеш╖СхЬиц╡ПшзИхЩиф╕ня╝МцШпхЫаф╕║ webpack щАЪш┐З__webpack_require<strong>хЗ╜цХ░цибцЛЯф║ЖцибхЭЧчЪДхКаш╜╜я╝Ич▒╗ф╝╝ф║О node ф╕нчЪД require шпнц│Хя╝Йя╝МцККхоЪф╣ЙчЪДцибхЭЧхЖЕхо╣цМВш╜╜хИ░ module.exports ф╕КуАВхРМцЧ╢__webpack_require</strong>хЗ╜цХ░ф╕нф╣Яхп╣цибхЭЧч╝УхнШхБЪф║Жф╝ШхМЦя╝МщШ▓цнвцибхЭЧф║МцмбщЗНцЦ░хКаш╜╜я╝Мф╝ШхМЦцАзшГ╜уАВ</p> <p>хЖНшойцИСф╗мчЬЛф╕Л webpack чЪДц║РчаБя╝Ъ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack/lib/MainTemplate.js</span>

<span class="token comment">// ф╕╗цЦЗф╗╢цибцЭ┐</span>
<span class="token comment">// webpackчФЯцИРчЪДцЬАч╗ИцЦЗф╗╢хПлchunkя╝МchunkхМЕхРлшЛех╣▓чЪДщА╗ш╛СцибхЭЧя╝МхН│ф╕║module</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>render<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span> <span class="token string">&quot;MainTemplate&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token parameter">bootstrapSource<span class="token punctuation">,</span> chunk<span class="token punctuation">,</span> hash<span class="token punctuation">,</span> moduleTemplate<span class="token punctuation">,</span> dependencyTemplates</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcatSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  source<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;/******/ (function(modules) { // webpackBootstrap\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// хЕехПгхЖЕхо╣я╝М__webpack_require__х░▒хЬиbootstrapSourceф╕н</span>
  source<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PrefixSource</span><span class="token punctuation">(</span><span class="token string">&quot;/******/&quot;</span><span class="token punctuation">,</span> bootstrapSource<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  source<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;/******/ })\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  source<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
    <span class="token string">&quot;/************************************************************************/\n&quot;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  source<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;/******/ (&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  source<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
    <span class="token comment">// ф╛Эш╡ЦчЪДmoduleщГ╜ф╝ЪхЖЩхЕехп╣х║ФцХ░ч╗Д</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">modules</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>
      <span class="token keyword">new</span> <span class="token class-name">RawSource</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      chunk<span class="token punctuation">,</span>
      hash<span class="token punctuation">,</span>
      moduleTemplate<span class="token punctuation">,</span>
      dependencyTemplates
    <span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  source<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> source<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
хдНхИ╢ф╗гчаБ
</code></pre></div><h2 id="es6-шпнц│ХцФпцМБ"><a href="#es6-шпнц│ХцФпцМБ" class="header-anchor">#</a> ES6 шпнц│ХцФпцМБ</h2> <p>хПпшГ╜ч╗Жх┐ГчЪДшп╗шАЕчЬЛхИ░я╝Мф╗еф╕КцЙУхМЕхРОчЪД add цибхЭЧф╗гчаБф╕нф╛ЭчД╢ш┐ШцШп ES6 шпнц│Хя╝МхЬиф╜ОчлпчЪДц╡ПшзИхЩиф╕нф╕НцФпцМБуАВш┐ЩцШпхЫаф╕║ц▓бцЬЙхп╣х║ФчЪД loader хО╗шзгцЮР js ф╗гчаБя╝Мwebpack цККцЙАцЬЙчЪДш╡Дц║РщГ╜шзЖф╜ЬцибхЭЧя╝Мф╕НхРМчЪДш╡Дц║Рф╜┐чФиф╕НхРМчЪД loader ш┐ЫшбМш╜мцНвуАВ</p> <p>ш┐ЩщЗМщЬАшжБф╜┐чФи babel-loader хПКхЕ╢цПТф╗╢@babel/preset-env ш┐ЫшбМхдДчРЖя╝МцКК ES6 ф╗гчаБш╜мцНвцИРхПпхЬиц╡ПшзИхЩиф╕нш╖СчЪД es5 ф╗гчаБуАВ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// хп╣ф╗еjsхРОч╝АчЪДцЦЗф╗╢ш╡Дц║Ря╝МчФиbabelш┐ЫшбМхдДчРЖ</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.m?js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(node_modules|bower_components)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">{</span>
          loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span> <span class="token punctuation">{</span>
            presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'@babel/preset-env'</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
хдНхИ╢ф╗гчаБ
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ч╗Пш┐ЗbabelхдДчРЖes6шпнц│ХхРОчЪДф╗гчаБ</span>
__webpack_exports__<span class="token punctuation">[</span><span class="token string">'default'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> _name <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'hello world,'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    name <span class="token operator">=</span> _name<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token keyword">return</span> name <span class="token operator">+</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
хдНхИ╢ф╗гчаБ<span class="token punctuation">;</span>
</code></pre></div><h2 id="цибхЭЧх╝ВцнехКаш╜╜"><a href="#цибхЭЧх╝ВцнехКаш╜╜" class="header-anchor">#</a> цибхЭЧх╝ВцнехКаш╜╜</h2> <p>ф╗еф╕К webpack цККцЙАцЬЙцибхЭЧцЙУхМЕхИ░ф╕╗цЦЗф╗╢ф╕ня╝МцЙАф╗ецибхЭЧхКаш╜╜цЦ╣х╝ПщГ╜цШпхРМцнецЦ╣х╝ПуАВф╜ЖхЬих╝АхПСх║ФчФиш┐ЗчиЛф╕ня╝МцМЙщЬАхКаш╜╜я╝Иф╣ЯхПлцЗТхКаш╜╜я╝Йф╣ЯцШпч╗Пх╕╕ф╜┐чФичЪДф╝ШхМЦцКАх╖зф╣Лф╕АуАВцМЙщЬАхКаш╜╜я╝МщАЪф┐Чшо▓х░▒цШпф╗гчаБцЙзшбМхИ░х╝ВцнецибхЭЧя╝ИцибхЭЧхЖЕхо╣хЬихПжхдЦф╕Аф╕к js цЦЗф╗╢ф╕ня╝Йя╝МщАЪш┐Зч╜Сч╗Ьшп╖ц▒ВхН│цЧ╢хКаш╜╜хп╣х║ФчЪДх╝ВцнецибхЭЧф╗гчаБя╝МхЖНч╗зч╗нцОеф╕ЛхО╗чЪДц╡БчиЛуАВщВг webpack цШпхжВф╜ХцЙзшбМф╗гчаБцЧ╢я╝МхИдцЦнхУкф║Ыф╗гчаБцШпх╝ВцнецибхЭЧхСвя╝Яwebpack хПИцШпхжВф╜ХхКаш╜╜х╝ВцнецибхЭЧхСвя╝Я</p> <p>webpack цЬЙф╕к<a href="https://webpack.js.org/api/module-methods/#requireensure" target="_blank" rel="noopener noreferrer">require.ensure<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> api шпнц│ХцЭецаЗшо░ф╕║х╝ВцнехКаш╜╜цибхЭЧя╝МцЬАцЦ░чЪД webpack4 цОишНРф╜┐чФицЦ░чЪД<a href="https://webpack.js.org/api/module-methods/#import-1" target="_blank" rel="noopener noreferrer">import()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> api(щЬАшжБщЕНхРИ@babel/plugin-syntax-dynamic-import цПТф╗╢)уАВхЫаф╕║ require.ensure цШпщАЪш┐ЗхЫЮш░ГхЗ╜цХ░цЙзшбМцОеф╕ЛцЭечЪДц╡БчиЛя╝МшАМ import()ш┐ФхЫЮ promiseя╝Мш┐ЩцДПхС│чЭАхПпф╗еф╜┐чФицЬАцЦ░чЪД ES8 async/await шпнц│Хя╝Мф╜┐х╛ЧхПпф╗ехГПф╣жхЖЩхРМцнеф╗гчаБф╕Аца╖я╝МцЙзшбМх╝Вцнец╡БчиЛуАВ</p> <p>чО░хЬицИСф╗мф╗О webpack цЙУхМЕхРОчЪДц║РчаБцЭечЬЛф╕Ля╝Мwebpack цШпхжВф╜ХхоЮчО░х╝ВцнецибхЭЧхКаш╜╜чЪДуАВф┐оцФ╣хЕехПгцЦЗф╗╢ main.jsя╝Мх╝ХхЕех╝ВцнецибхЭЧ async.jsя╝Ъ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// main.js</span>
<span class="token keyword">import</span> Add <span class="token keyword">from</span> <span class="token string">'./add'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Add<span class="token punctuation">,</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// цМЙщЬАхКаш╜╜</span>
<span class="token comment">// цЦ╣х╝П1: require.ensure</span>
<span class="token comment">// require.ensure([], function(require){</span>
<span class="token comment">//     var asyncModule = require('./async')</span>
<span class="token comment">//     console.log(asyncModule.default, 234)</span>
<span class="token comment">// })</span>

<span class="token comment">// цЦ╣х╝П2: webpack4цЦ░чЪДimportшпнц│Х</span>
<span class="token comment">// щЬАшжБхКа@babel/plugin-syntax-dynamic-importцПТф╗╢</span>
<span class="token keyword">let</span> <span class="token function-variable function">asyncModuleWarp</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./async'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">asyncModuleWarp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">,</span> <span class="token number">234</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
хдНхИ╢ф╗гчаБ<span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// async.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'hello, aysnc module'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
хдНхИ╢ф╗гчаБ<span class="token punctuation">;</span>
</code></pre></div><p>ф╗еф╕Кф╗гчаБцЙУхМЕф╝ЪчФЯцИРф╕дф╕к chunk цЦЗф╗╢я╝МхИЖхИлцШпф╕╗цЦЗф╗╢<code>main.bundle.js</code>ф╗ехПКх╝ВцнецибхЭЧцЦЗф╗╢<code>0.bundle.js</code>уАВхРМца╖я╝Мф╕║цЦ╣ф╛┐шп╗шАЕх┐лщАЯчРЖшзгя╝Мч▓╛чоАф┐ЭчХЩф╕╗ц╡БчиЛф╗гчаБуАВ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 0.bundle.js</span>

<span class="token comment">// х╝ВцнецибхЭЧ</span>
<span class="token comment">// window[&quot;webpackJsonp&quot;]цШпш┐ЮцОехдЪф╕кchunkцЦЗф╗╢чЪДцбецвБ</span>
<span class="token comment">// window[&quot;webpackJsonp&quot;].push = ф╕╗chunkцЦЗф╗╢.webpackJsonpCallback</span>
<span class="token punctuation">(</span>window<span class="token punctuation">[</span><span class="token string">'webpackJsonp'</span><span class="token punctuation">]</span> <span class="token operator">=</span> window<span class="token punctuation">[</span><span class="token string">'webpackJsonp'</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// х╝ВцнецибхЭЧцаЗшпЖchunkId,хПпхИдцЦнх╝Вцнеф╗гчаБцШпхРжхКаш╜╜цИРхКЯ</span>
  <span class="token comment">// ш╖ЯхРМцнецибхЭЧф╕Аца╖я╝МхнШцФ╛ф║Ж{цибхЭЧш╖пх╛Дя╝ЪцибхЭЧхЖЕхо╣}</span>
  <span class="token punctuation">{</span>
    <span class="token string">'./src/async.js'</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>
      <span class="token parameter">module<span class="token punctuation">,</span>
      __webpack_exports__<span class="token punctuation">,</span>
      __webpack_require__</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      __webpack_require__<span class="token punctuation">.</span><span class="token function">r</span><span class="token punctuation">(</span>__webpack_exports__<span class="token punctuation">)</span><span class="token punctuation">;</span>
      __webpack_exports__<span class="token punctuation">[</span><span class="token string">'default'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'hello, aysnc module'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
хдНхИ╢ф╗гчаБ<span class="token punctuation">;</span>
</code></pre></div><p>ф╗еф╕КчЯещБУя╝Мх╝ВцнецибхЭЧцЙУхМЕхРОчЪДцЦЗф╗╢ф╕н<strong>ф┐ЭхнШчЭАх╝ВцнецибхЭЧц║Рф╗гчаБ</strong>я╝МхРМцЧ╢ф╕║ф║ЖхМ║хИЖф╕НхРМчЪДх╝ВцнецибхЭЧя╝М<strong>ш┐Шф┐ЭхнШчЭАшпех╝ВцнецибхЭЧхп╣х║ФчЪДцаЗшпЖя╝ЪchunkId</strong>уАВф╗еф╕Кф╗гчаБф╕╗хКиш░ГчФи window[&quot;webpackJsonp&quot;].push хЗ╜цХ░я╝МшпехЗ╜цХ░цШпш┐ЮцОех╝ВцнецибхЭЧф╕Оф╕╗цибхЭЧчЪДхЕ│щФохЗ╜цХ░я╝МшпехЗ╜цХ░хоЪф╣ЙхЬиф╕╗цЦЗф╗╢ф╕ня╝МхоЮщЩЕф╕К<code>window[&quot;webpackJsonp&quot;].push = webpackJsonpCallback</code>я╝Мшпжч╗Жц║РчаБхТ▒ф╗мчЬЛчЬЛф╕╗цЦЗф╗╢цЙУхМЕхРОчЪДф╗гчаБя╝Ъ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// main.bundle.js</span>

<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">modules</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// шО╖хПЦхИ░х╝Вцнеchunkф╗гчаБхРОчЪДхЫЮш░ГхЗ╜цХ░</span>
<span class="token comment">// ш┐ЮцОеф╕дф╕кцибхЭЧцЦЗф╗╢чЪДхЕ│щФохЗ╜цХ░</span>
<span class="token keyword">function</span> <span class="token function">webpackJsonpCallback</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> chunkIds <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//data[0]хнШцФ╛ф║Жх╝ВцнецибхЭЧхп╣х║ФчЪДchunkId</span>
  <span class="token keyword">var</span> moreModules <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// data[1]хнШцФ╛ф║Жх╝ВцнецибхЭЧф╗гчаБ</span>

  <span class="token comment">// цаЗшо░х╝ВцнецибхЭЧх╖▓хКаш╜╜цИРхКЯ</span>
  <span class="token keyword">var</span> moduleId<span class="token punctuation">,</span> chunkId<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> resolves <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> chunkIds<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    chunkId <span class="token operator">=</span> chunkIds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>installedChunks<span class="token punctuation">[</span>chunkId<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      resolves<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>installedChunks<span class="token punctuation">[</span>chunkId<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    installedChunks<span class="token punctuation">[</span>chunkId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// цККх╝ВцнецибхЭЧф╗гчаБщГ╜хнШцФ╛хИ░modulesф╕н</span>
  <span class="token comment">// цндцЧ╢ф╕Зф║Лф┐▒хдЗя╝Мх╝Вцнеф╗гчаБщГ╜х╖▓ч╗ПхРМцнехКаш╜╜хИ░ф╕╗цибхЭЧф╕н</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span>moduleId <span class="token keyword">in</span> moreModules<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    modules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span> <span class="token operator">=</span> moreModules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// щЗНчВ╣я╝ЪцЙзшбМresolve() = installedChunks[chunkId][0]()ш┐ФхЫЮpromise</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>resolves<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    resolves<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// шо░х╜ХхУкф║Ыchunkх╖▓хКаш╜╜хоМцИР</span>
<span class="token keyword">var</span> installedChunks <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;main&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// __webpack_require__ф╛ЭчД╢цШпхРМцнешп╗хПЦцибхЭЧф╗гчаБф╜ЬчФи</span>
<span class="token keyword">function</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token parameter">moduleId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>

<span class="token comment">// хКаш╜╜х╝ВцнецибхЭЧ</span>
__webpack_require__<span class="token punctuation">.</span><span class="token function-variable function">e</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">requireEnsure</span><span class="token punctuation">(</span><span class="token parameter">chunkId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// хИЫх╗║promise</span>
  <span class="token comment">// цККresolveф┐ЭхнШхИ░installedChunks[chunkId]ф╕ня╝МчнЙх╛Еф╗гчаБхКаш╜╜хе╜хЖНцЙзшбМresolve()ф╗еш┐ФхЫЮpromise</span>
  <span class="token keyword">var</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    installedChunks<span class="token punctuation">[</span>chunkId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// щАЪш┐Зх╛Аheadхд┤щГицПТхЕеscriptцаЗчн╛х╝ВцнехКаш╜╜хИ░chunkф╗гчаБ</span>
  <span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  script<span class="token punctuation">.</span>charset <span class="token operator">=</span> <span class="token string">'utf-8'</span><span class="token punctuation">;</span>
  script<span class="token punctuation">.</span>timeout <span class="token operator">=</span> <span class="token number">120</span><span class="token punctuation">;</span>
  <span class="token comment">// __webpack_require__.pф╕║publicePath</span>
  script<span class="token punctuation">.</span>src <span class="token operator">=</span> __webpack_require__<span class="token punctuation">.</span>p <span class="token operator">+</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">[</span>chunkId<span class="token punctuation">]</span><span class="token operator">||</span>chunkId<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;.bundle.js&quot;</span>
  <span class="token keyword">var</span> <span class="token function-variable function">onScriptComplete</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> chunk <span class="token operator">=</span> installedChunks<span class="token punctuation">[</span>chunkId<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  script<span class="token punctuation">.</span>onerror <span class="token operator">=</span> script<span class="token punctuation">.</span>onload <span class="token operator">=</span> onScriptComplete<span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> promise<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> jsonpArray <span class="token operator">=</span> window<span class="token punctuation">[</span><span class="token string">&quot;webpackJsonp&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> window<span class="token punctuation">[</span><span class="token string">&quot;webpackJsonp&quot;</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// хЕ│щФоф╗гчаБя╝Ъ window[&quot;webpackJsonp&quot;].push = webpackJsonpCallback</span>
jsonpArray<span class="token punctuation">.</span>push <span class="token operator">=</span> webpackJsonpCallback<span class="token punctuation">;</span>

<span class="token comment">// хЕехПгцЙзшбМ</span>
<span class="token keyword">return</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span>__webpack_require__<span class="token punctuation">.</span>s <span class="token operator">=</span> <span class="token string">&quot;./src/main.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token string">&quot;./src/add.js&quot;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> __webpack_exports__<span class="token punctuation">,</span> __webpack_require__</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token string">&quot;./src/main.js&quot;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> __webpack_require__</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// хРМцнецЦ╣х╝П</span>
  <span class="token keyword">var</span> Add <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token string">&quot;./src/add.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Add<span class="token punctuation">,</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// х╝ВцнецЦ╣х╝П</span>
  <span class="token keyword">var</span> <span class="token function-variable function">asyncModuleWarp</span> <span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> _ref <span class="token operator">=</span> <span class="token function">_asyncToGenerator</span><span class="token punctuation">(</span> regeneratorRuntime<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">_callee</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> regeneratorRuntime<span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">_callee$</span><span class="token punctuation">(</span><span class="token parameter">_context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// цЙзшбМхИ░х╝Вцнеф╗гчаБцЧ╢я╝Мф╝ЪхО╗цЙзшбМ__webpack_require__.eцЦ╣ц│Х</span>
        <span class="token comment">// __webpack_require__.eхЕ╢ш┐ФхЫЮpromiseя╝Мшбичд║х╝Вцнеф╗гчаБщГ╜х╖▓ч╗ПхКаш╜╜хИ░ф╕╗цибхЭЧф║Ж</span>
        <span class="token comment">// цОеф╕ЛцЭехГПхРМцнеф╕Аца╖я╝МчЫ┤цОехКаш╜╜цибхЭЧ</span>
        <span class="token keyword">return</span> __webpack_require__<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token function">__webpack_require__</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;./src/async.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> _callee<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">asyncModuleWarp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">_ref</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">asyncModuleWarp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">,</span> <span class="token number">234</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
хдНхИ╢ф╗гчаБ
</code></pre></div><p>ф╗Оф╕КщЭвц║РчаБхПпф╗ечЯещБУя╝М<strong>webpack хоЮчО░цибхЭЧчЪДх╝ВцнехКаш╜╜цЬЙчВ╣хГП jsonp чЪДц╡БчиЛ</strong>уАВхЬиф╕╗ js цЦЗф╗╢ф╕нщАЪш┐ЗхЬи head ф╕нцЮДх╗║ script цаЗчн╛цЦ╣х╝Пя╝Мх╝ВцнехКаш╜╜цибхЭЧф┐бцБпя╝ЫхЖНф╜┐чФихЫЮш░ГхЗ╜цХ░ webpackJsonpCallbackя╝МцККх╝ВцнечЪДцибхЭЧц║РчаБхРМцнехИ░ф╕╗цЦЗф╗╢ф╕ня╝МцЙАф╗ехРОч╗нцУНф╜Ьх╝ВцнецибхЭЧхПпф╗ехГПхРМцнецибхЭЧф╕Аца╖уАВ ц║РчаБхЕ╖ф╜УхоЮчО░ц╡БчиЛя╝Ъ</p> <ol><li>щБЗхИ░х╝ВцнецибхЭЧцЧ╢я╝Мф╜┐чФи<code>__webpack_require__.e</code>хЗ╜цХ░хО╗цККх╝Вцнеф╗гчаБхКаш╜╜ш┐ЫцЭеуАВшпехЗ╜цХ░ф╝ЪхЬи html чЪД head ф╕нхКицАБхвЮхКа script цаЗчн╛я╝Мsrc цМЗхРСцМЗхоЪчЪДх╝ВцнецибхЭЧхнШцФ╛чЪДцЦЗф╗╢уАВ</li> <li>хКаш╜╜чЪДх╝ВцнецибхЭЧцЦЗф╗╢ф╝ЪцЙзшбМ<code>webpackJsonpCallback</code>хЗ╜цХ░я╝МцККх╝ВцнецибхЭЧхКаш╜╜хИ░ф╕╗цЦЗф╗╢ф╕нуАВ</li> <li>цЙАф╗ехРОч╗нхПпф╗ехГПхРМцнецибхЭЧф╕Аца╖,чЫ┤цОеф╜┐чФи<code>__webpack_require__(&quot;./src/async.js&quot;)</code>хКаш╜╜х╝ВцнецибхЭЧуАВ</li></ol> <blockquote><p>ц│ицДПц║РчаБф╕нчЪД primose ф╜┐чФищЭЮх╕╕ч▓╛хжЩя╝Мф╕╗цибхЭЧхКаш╜╜хоМцИРх╝ВцнецибхЭЧцЙН resolve()</p></blockquote> <h2 id="цА╗ч╗У"><a href="#цА╗ч╗У" class="header-anchor">#</a> цА╗ч╗У</h2> <ol><li>webpack хп╣ф║О ES цибхЭЧ/CommonJS цибхЭЧчЪДхоЮчО░я╝МцШпхЯ║ф║ОшЗкх╖▒хоЮчО░чЪД webpack_requireя╝МцЙАф╗еф╗гчаБшГ╜ш╖СхЬиц╡ПшзИхЩиф╕нуАВ</li> <li>ф╗О webpack2 х╝АхзЛя╝Мх╖▓ч╗ПхЖЕч╜оф║Жхп╣ ES6уАБCommonJSуАБAMD цибхЭЧхМЦшпнхПечЪДцФпцМБуАВф╜Жф╕НхМЕцЛмцЦ░чЪД ES6 шпнц│Хш╜мф╕║ ES5 ф╗гчаБя╝Мш┐ЩщГихИЖх╖еф╜Ьш┐ШцШпчХЩч╗Щф║Ж babel хПКхЕ╢цПТф╗╢уАВ</li> <li>хЬи webpack ф╕нхПпф╗ехРМцЧ╢ф╜┐чФи ES6 цибхЭЧхТМ CommonJS цибхЭЧуАВхЫаф╕║ module.exports х╛ИхГП export defaultя╝МцЙАф╗е ES6 цибхЭЧхПпф╗ех╛ИцЦ╣ф╛┐хЕ╝хо╣ CommonJSя╝Ъimport XXX from 'commonjs-module'уАВхПНш┐ЗцЭе CommonJS хЕ╝хо╣ ES6 цибхЭЧя╝МщЬАшжБщвЭхдЦхКаф╕К defaultя╝Ъrequire('es-module').defaultуАВ</li> <li>webpack х╝ВцнехКаш╜╜цибхЭЧхоЮчО░ц╡БчиЛш╖Я jsonp хЯ║цЬмф╕АшЗ┤уАВ</li></ol> <h2 id="хПВшАГцЦЗчла"><a href="#хПВшАГцЦЗчла" class="header-anchor">#</a> хПВшАГцЦЗчла</h2> <ul><li><a href="https://juejin.im/post/5aaa37c8f265da23945f365c" target="_blank" rel="noopener noreferrer">хЙНчлпцибхЭЧхМЦя╝ЪCommonJS,AMD,CMD,ES6<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://segmentfault.com/a/1190000017878394" target="_blank" rel="noopener noreferrer">ц╖▒хЕе CommonJs ф╕О ES6 Module<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/Pines-Cheng/blog/issues/45" target="_blank" rel="noopener noreferrer">Webpack х░Жф╗гчаБцЙУхМЕцИРф╗Аф╣Ица╖хнР<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://zhuanlan.zhihu.com/p/29551683" target="_blank" rel="noopener noreferrer">Webpack ц║РчаБхИЖцЮР<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://webpack.js.org/guides/code-splitting" target="_blank" rel="noopener noreferrer">Webpack Code Splitting<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">цЫ┤цЦ░цЧ╢щЧ┤:</span> <span class="time">2/18/2021, 5:25:16 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      тЖР
      <a href="/blog/skills/WebpackцибхЭЧхоЮчО░.html" class="prev">
        Webpack цибхЭЧхоЮчО░
      </a></span> <span class="next"><a href="/blog/skills/ц╡ПшзИхЩич╝УхнШ.html">
        ц╡ПшзИхЩич╝УхнШ
      </a>
      тЖТ
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/blog/assets/js/app.b9d1aa2a.js" defer></script><script src="/blog/assets/js/3.8c44ca0e.js" defer></script><script src="/blog/assets/js/33.6665e618.js" defer></script><script src="/blog/assets/js/4.57980df9.js" defer></script>
  </body>
</html>
